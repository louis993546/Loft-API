# scalar Date   #TODO: find out how it will be (de)serialize

type Member {
  id: ID!
  name: String!
}

enum TaskState {
  NOT_DONE
  DONE
}

type Task {
  id: ID!
  title: String!
  state: TaskState!
}

type Event {
  id: ID!
  name: String!
}

type Request {
  id: ID!
  name: String!
  message: String!
}

type Loft {
  id: ID!
  name: String!
  members: [Member!]!
  tasks: [Task!]!
  events: [Event!]!
  requests: [Request!]!
}

type Echo {
  time: String!
  format: String!
}

type Query {
  lofts: [Loft!]!   # for testing only, should not exist in production version
  loft(id: ID!): Loft!
  echo: Echo
}

input NewTask {
  title: String!
  loftId: ID!
}

input NewEvent {
  name: String!
  loftId: ID!
}

input NewRequest {
  name: String!
  message: String!
  loftId: ID!
}

type Mutation {
  createTask(input: NewTask!): Task!
  createEvent(input: NewEvent!): Event!
  createRequest(input: NewRequest!): Request!
}